---
layout: default
---
<div class="content search">
  <div class="title filled">
    <h1 style="background-image: url(/images/pages/search.jpg);">Search</h1>
  </div>
  {{ page.content }}

  <input autocomplete="off" type="search" id="search" placeholder="Search for posts & pages!" />
  <ul id="results">
    <li>no results</li>
  </ul>
</div>
<script>
  const search = document.getElementById("search");
  const results = document.getElementById("results");
  let search_list = [];
  search.addEventListener('input', (event) => {
    search_term = event.target.value.toLowerCase();
    if (search_term) {
      results.innerHTML = "";
      search_list.filter((item) => {
        return (JSON.stringify(item).toLowerCase().indexOf(search_term) >= 0);
      }).forEach((item) => {
        results.innerHTML += `<li class="${item.type}" ><a href=\"${item.url}\">${item.title}</a></li>`;
      });
    }
    else {
      results.innerHTML = "<li>no results</li>";
    }
  });

  function get_json_posts() {
    fetch('/data/search.json')
      .then(response => response.json())
      .then(data => {
        search_list = data;
      });
  }

  get_json_posts();


</script>